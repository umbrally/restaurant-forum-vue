(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f09e1"],{"9cab":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("NavTabs"),t.isLoading?r("Spinner"):[r("h1",{staticClass:"mt-5"},[t._v("最新動態")]),r("hr"),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("h3",[t._v("最新餐廳")]),r("NewestRestaurants",{attrs:{restaurants:t.restaurants}})],1),r("div",{staticClass:"col-md-6"},[r("h3",[t._v("最新評論")]),r("NewestComments",{attrs:{comments:t.comments}})],1)])]],2)},a=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),i=(r("96cf"),r("3b8d")),c=r("8bb1"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[t._v("最新餐廳")]),r("div",{staticClass:"card-body"},t._l(t.restaurants,function(e){return r("div",{key:e.id},[r("h4",[r("router-link",{attrs:{to:{name:"restaurant",params:{id:e.id}}}},[t._v(t._s(e.name))]),t._v(" \n        "),r("small",[t._v(t._s(e.Category.name))])],1),r("p",[t._v(t._s(e.description))]),t._v("\n      "+t._s(t._f("fromNow")(e.createdAt))+"\n      "),r("hr")])}),0)])},u=[],m=r("c1df"),d=r.n(m),l=r("2708"),f={mixins:[l["b"]],name:"NewestRestaurants",filters:{fromNow:function(t){return t?d()(t).fromNow():"-"}},props:{restaurants:{type:Array,required:!0}}},p=f,v=r("2877"),b=Object(v["a"])(p,o,u,!1,null,null,null),h=b.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[t._v("最新評論")]),r("div",{staticClass:"card-body"},t._l(t.comments,function(e){return r("div",{key:e.id},[r("h4",[r("router-link",{attrs:{to:{name:"restaurant",params:{id:e.RestaurantId}}}},[t._v(t._s(e.Restaurant.name))])],1),r("p",[t._v(t._s(e.text))]),t._v("by\n      "),r("router-link",{attrs:{to:{name:"user",params:{id:e.UserId}}}},[t._v(t._s(e.User.name))]),t._v("\n      "+t._s(t._f("fromNow")(e.createdAt))+"\n      "),r("hr")],1)}),0)])},w=[],y={mixins:[l["b"]],props:{comments:{type:Array,required:!0}},filters:{fromNow:function(t){return t?d()(t).fromNow():"-"}}},O=y,g=Object(v["a"])(O,_,w,!1,null,null,null),C=g.exports,j=r("c4c3"),N=r("2fa3"),k=r("2375");function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(r,!0).forEach(function(e){Object(s["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var P={components:{NavTabs:c["a"],NewestRestaurants:h,NewestComments:C,Spinner:k["a"]},data:function(){return{restaurants:[],comments:[],isLoading:!0}},created:function(){this.fetchFeeds()},methods:{fetchFeeds:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j["a"].getRestaurantsFeeds();case 3:if(e=t.sent,r=e.data,n=e.statusText,"OK"===n){t.next=7;break}throw new Error(n);case 7:r.restaurants=r.restaurants.map(function(t){return t.Category?t:R({},t,{Category:{name:""}})}),r.comments=r.comments.map(function(t){return t.Restaurant?t:R({},t,{Restaurant:{name:""}})}),this.restaurants=r.restaurants,this.comments=r.comments,this.isLoading=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),this.isLoading=!1,N["a"].fire({icon:"error",title:"無法取得最新動態，請稍後再試"});case 18:case"end":return t.stop()}},t,this,[[0,14]])}));function e(){return t.apply(this,arguments)}return e}()}},E=P,A=Object(v["a"])(E,n,a,!1,null,null,null);e["default"]=A.exports}}]);
//# sourceMappingURL=chunk-2d0f09e1.0740be84.js.map